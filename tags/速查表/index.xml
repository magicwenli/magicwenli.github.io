<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>速查表 on Magical trees, take me home.</title><link>/tags/%E9%80%9F%E6%9F%A5%E8%A1%A8/</link><description>Recent content in 速查表 on Magical trees, take me home.</description><generator>Hugo</generator><language>zh</language><lastBuildDate>Thu, 12 Sep 2024 07:09:18 +0000</lastBuildDate><atom:link href="/tags/%E9%80%9F%E6%9F%A5%E8%A1%A8/index.xml" rel="self" type="application/rss+xml"/><item><title>Buildroot 速查表</title><link>/posts/buildroot-cheetsheet/</link><pubDate>Wed, 04 Sep 2024 00:00:00 +0800</pubDate><guid>/posts/buildroot-cheetsheet/</guid><description>&lt;blockquote>
&lt;p>完整文档可以在&lt;a href="https://buildroot.org/downloads/manual/manual.html">官方网站&lt;/a>找到。&lt;/p>
&lt;/blockquote>
&lt;h2 id="基本命令">基本命令&lt;/h2>
&lt;p>&lt;a href="https://buildroot.org/downloads/manual/manual.html#make-tips">Make 提示&lt;/a>&lt;/p>
&lt;p>使用 &lt;code>make help&lt;/code> 获取所有可用目标的列表。&lt;/p>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th style="text-align: left">命令&lt;/th>
 &lt;th style="text-align: left">描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td style="text-align: left">make&lt;/td>
 &lt;td style="text-align: left">构建 rootfs&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">make xyz_defconfig&lt;/td>
 &lt;td style="text-align: left">选择配置文件&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">make menuconfig&lt;/td>
 &lt;td style="text-align: left">打开配置菜单&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">make savedefconfig&lt;/td>
 &lt;td style="text-align: left">将当前配置保存到 defconfig 文件中&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">make source&lt;/td>
 &lt;td style="text-align: left">下载包的源代码&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">make clean&lt;/td>
 &lt;td style="text-align: left">清理所有构建产品（包括构建目录、主机、暂存和目标树、镜像和工具链）&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">make distclean&lt;/td>
 &lt;td style="text-align: left">清理所有内容，包括配置&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h3 id="包管理">包管理&lt;/h3>
&lt;blockquote>
&lt;p>&lt;a href="https://buildroot.org/downloads/manual/manual.html#pkg-build-steps">特定包的 make 目标&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th style="text-align: left">命令&lt;/th>
 &lt;th style="text-align: left">描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td style="text-align: left">make &amp;lt;pkg&amp;gt;&lt;/td>
 &lt;td style="text-align: left">构建一个包&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">make &amp;lt;pkg&amp;gt;-reinstall&lt;/td>
 &lt;td style="text-align: left">重新安装一个包&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">make &amp;lt;pkg&amp;gt;-rebuild&lt;/td>
 &lt;td style="text-align: left">重新构建一个包（这意味着重新安装）&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">make &amp;lt;pkg&amp;gt;-reconfigure&lt;/td>
 &lt;td style="text-align: left">重新配置一个包（这意味着重新构建）&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">make &amp;lt;pkg&amp;gt;-dirclean&lt;/td>
 &lt;td style="text-align: left">清理包目录&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h3 id="调试">调试&lt;/h3>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th style="text-align: left">命令&lt;/th>
 &lt;th style="text-align: left">描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td style="text-align: left">make graph-depends&lt;/td>
 &lt;td style="text-align: left">生成依赖关系图&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">make &amp;lt;pkg&amp;gt;-graph-depends&lt;/td>
 &lt;td style="text-align: left">生成包的依赖关系图&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="目录结构">目录结构&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th style="text-align: left">目录&lt;/th>
 &lt;th style="text-align: left">描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td style="text-align: left">configs&lt;/td>
 &lt;td style="text-align: left">单板的配置和 defconfig 文件的位置&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">package&lt;/td>
 &lt;td style="text-align: left">包定义的位置&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">dl&lt;/td>
 &lt;td style="text-align: left">下载的源代码压缩包&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">output/build&lt;/td>
 &lt;td style="text-align: left">所有组件构建的目录&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">output/images&lt;/td>
 &lt;td style="text-align: left">构建的内核、引导加载程序和根文件系统镜像的位置&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">output/staging&lt;/td>
 &lt;td style="text-align: left">交叉编译工具链和用户空间包的头文件和库的位置（这是 host/&lt;toolchains>/sysroot 的软链）&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">output/host&lt;/td>
 &lt;td style="text-align: left">包括交叉编译工具链在内的主机工具的位置&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">output/target&lt;/td>
 &lt;td style="text-align: left">几乎是最终的目标根文件系统&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="mk-文件">&lt;code>.mk&lt;/code> 文件&lt;/h2>
&lt;h3 id="cmake">Cmake&lt;/h3>
&lt;blockquote>
&lt;p>&lt;a href="https://buildroot.org/downloads/manual/manual.html#cmake-package-tutorial">cmake 包教程&lt;/a>&lt;/p></description></item><item><title>Yocto &amp; Bitbake 速查表</title><link>/posts/yocto-cheetsheet/</link><pubDate>Wed, 04 Sep 2024 00:00:00 +0800</pubDate><guid>/posts/yocto-cheetsheet/</guid><description>&lt;blockquote>
&lt;p>完整文档可以在&lt;a href="https://docs.yoctoproject.org/">Yocto 文档网站&lt;/a>找到。
参考自&lt;a href="https://github.com/shantanoo-desai/yoctoproject-cheatsheet">yoctoproject-cheatsheet&lt;/a>。&lt;/p>
&lt;/blockquote>
&lt;h2 id="cli-命令">Cli 命令&lt;/h2>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th style="text-align: left">命令&lt;/th>
 &lt;th style="text-align: left">描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td style="text-align: left">todo&lt;/td>
 &lt;td style="text-align: left">todo&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="变量语法和操作">变量语法和操作&lt;/h2>
&lt;blockquote>
&lt;p>参考自&lt;a href="https://docs.yoctoproject.org/bitbake/2.4/bitbake-user-manual/bitbake-user-manual-metadata.html">Bitbake User Manual&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>可以随时使用 &lt;code>bitbake -e&lt;/code> 查看编译时的变量。&lt;/p>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th style="text-align: left">语法&lt;/th>
 &lt;th style="text-align: left">描述&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td style="text-align: left">&lt;code>VARIABLE = &amp;quot;value&amp;quot;&lt;/code>&lt;/td>
 &lt;td style="text-align: left">设置变量&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">&lt;code>VARIABLE = &amp;quot; value &amp;quot;&lt;/code>&lt;/td>
 &lt;td style="text-align: left">如果变量值中有空格，那么空格会被&lt;strong>保留&lt;/strong>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">&lt;code>VARIABLE = &amp;quot;&amp;quot;&lt;/code>&lt;/td>
 &lt;td style="text-align: left">设置变量为空&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">&lt;code>VARIABLE = &amp;quot; &amp;quot;&lt;/code>&lt;/td>
 &lt;td style="text-align: left">设置变量为一个空格&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">&lt;code>VARIABLE = '&amp;quot;'&lt;/code>&lt;/td>
 &lt;td style="text-align: left">通过单引号设置含有双引号的变量&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">&lt;code>VARIABLE = &amp;quot;${OTHER_VARIABLE}&amp;quot;&lt;/code>&lt;/td>
 &lt;td style="text-align: left">引用其他变量, 变量在&lt;strong>真正使用时&lt;/strong>才会被展开&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">&lt;code>VARIABLE := &amp;quot;${OTHER_VARIABLE}&amp;quot;&lt;/code>&lt;/td>
 &lt;td style="text-align: left">设置变量，&lt;strong>立即展开&lt;/strong>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">&lt;code>VARIABLE ?= &amp;quot;value&amp;quot;&lt;/code>&lt;/td>
 &lt;td style="text-align: left">设置默认值，如果变量已经设置，那么不会覆盖&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">&lt;code>VARIABLE ??= &amp;quot;value&amp;quot;&lt;/code>&lt;/td>
 &lt;td style="text-align: left">设置&lt;em>弱&lt;/em>默认值，见&lt;a href="https://docs.yoctoproject.org/bitbake/2.4/bitbake-user-manual/bitbake-user-manual-metadata.html#setting-a-weak-default-value">弱默认值&lt;/a>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">&lt;code>VARIABLE += &amp;quot;value&amp;quot;&lt;/code>&lt;/td>
 &lt;td style="text-align: left">追加变量值（带空格）&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">&lt;code>VARIABLE =+ &amp;quot;value&amp;quot;&lt;/code>&lt;/td>
 &lt;td style="text-align: left">在变量值前面追加（带空格）&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">&lt;code>VARIABLE .= &amp;quot;value&amp;quot;&lt;/code>&lt;/td>
 &lt;td style="text-align: left">追加变量值（无空格）&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td style="text-align: left">&lt;code>VARIABLE =. &amp;quot;value&amp;quot;&lt;/code>&lt;/td>
 &lt;td style="text-align: left">在变量值后面追加（无空格）&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>TODO&lt;/p></description></item></channel></rss>